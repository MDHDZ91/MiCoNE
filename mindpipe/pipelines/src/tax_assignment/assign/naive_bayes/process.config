train_classifier {
    reference_sequences = "{{ train_classifier['reference_sequences'] }}"
    tax_map = "{{ train_classifier['tax_map'] }}"
    classifier = "{{ train_classifier['classifier'] }}"
}

assign_taxonomy {
    confidence = {{ assign_taxonomy['confidence'] }}
    ncpus = {{ assign_taxonomy['ncpus'] }}
}

params {
    output_dir = "{{ output_dir }}"
    otu_table = "{{ input['otu_table'] }}"
    sequence_16s_representative = "{{ input['sequence_16s_representative'] }}"
    sample_metadata = "{{ input['sample_metadata'] }}"

    reference_sequences = train_classifier.reference_sequences
    tax_map = train_classifier.tax_map
    classifier = train_classifier.classifier
    confidence = assign_taxonomy.confidence
    ncpus = assign_taxonomy.ncpus
}

process.conda = "{{ env }}"
